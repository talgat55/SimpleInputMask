!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SimpleInputMask=e():t.SimpleInputMask=e()}(this,(()=>(()=>{"use strict";var t={};return(()=>{var e=t,n=function(){function t(t){this.inputElement=null,this.mask=t.mask,this.onCompleteCallback=t.onComplete}return t.prototype.applyMask=function(t){for(var e="",n=0,i=0;i<this.mask.length;i++){var o=this.mask[i],p=t[n];p?"9"===o&&/\d/.test(p)||"A"===o&&/[a-zA-Z]/.test(p)||"*"===o&&/[a-zA-Z0-9]/.test(p)?(e+=p,n++):"9"!==o&&"A"!==o&&"*"!==o?(e+=o,p===o&&n++):(n++,i--):e+="9"===o||"A"===o||"*"===o?"_":o}return e},t.prototype.isComplete=function(t){return-1===this.applyMask(t).indexOf("_")},t.prototype.setCursorPosition=function(t,e){requestAnimationFrame((function(){t.setSelectionRange(e,e)}))},t.prototype.findNextEditablePosition=function(t,e){for(var n=e;n<t.length;n++)if("_"===t[n])return n;return t.length},t.prototype.attach=function(t){var e=this;this.inputElement=t,this.inputElement.placeholder=this.applyMask("");var n=function(){if(e.inputElement){var t=e.inputElement.value,n=e.inputElement.selectionStart||0,i=e.applyMask(t),o=e.findNextEditablePosition(i,n);e.inputElement.value=i,e.setCursorPosition(e.inputElement,o),e.isComplete(i)&&e.onCompleteCallback&&e.onCompleteCallback(i)}};this.inputElement.addEventListener("input",n),this.inputElement.addEventListener("paste",n),this.inputElement._onInputMask=n},t.prototype.updateMask=function(t){this.mask=t,this.inputElement&&(this.inputElement.value=this.applyMask(this.inputElement.value))},t.prototype.detach=function(){if(this.inputElement){var t=this.inputElement._onInputMask;t&&(this.inputElement.removeEventListener("input",t),this.inputElement.removeEventListener("paste",t),delete this.inputElement._onInputMask),this.inputElement=null}},t}();e.default=n})(),t.default})()));