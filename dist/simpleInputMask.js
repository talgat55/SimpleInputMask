(()=>{"use strict";var t,e,n={};t=n,e=function(){function t(t){this.inputElement=null,this.mask=t.mask,this.onCompleteCallback=t.onComplete}return t.prototype.applyMask=function(t){for(var e="",n=0,i=0;i<this.mask.length;i++){var s=this.mask[i],p=t[n];p?"9"===s&&/\d/.test(p)||"A"===s&&/[a-zA-Z]/.test(p)||"*"===s&&/[a-zA-Z0-9]/.test(p)?(e+=p,n++):"9"!==s&&"A"!==s&&"*"!==s?(e+=s,p===s&&n++):(n++,i--):e+="9"===s||"A"===s||"*"===s?"_":s}return e},t.prototype.isComplete=function(t){return-1===this.applyMask(t).indexOf("_")},t.prototype.setCursorPosition=function(t,e){requestAnimationFrame((function(){t.setSelectionRange(e,e)}))},t.prototype.findNextEditablePosition=function(t,e){for(var n=e;n<t.length;n++)if("_"===t[n])return n;return t.length},t.prototype.attach=function(t){var e=this;this.inputElement=t,this.inputElement.placeholder=this.applyMask("");var n=function(){if(e.inputElement){var t=e.inputElement.value,n=e.inputElement.selectionStart||0,i=e.applyMask(t),s=e.findNextEditablePosition(i,n);e.inputElement.value=i,e.setCursorPosition(e.inputElement,s),e.isComplete(i)&&e.onCompleteCallback&&e.onCompleteCallback(i)}};this.inputElement.addEventListener("input",n),this.inputElement.addEventListener("paste",n),this.inputElement._onInputMask=n},t.prototype.updateMask=function(t){this.mask=t,this.inputElement&&(this.inputElement.value=this.applyMask(this.inputElement.value))},t.prototype.detach=function(){if(this.inputElement){var t=this.inputElement._onInputMask;t&&(this.inputElement.removeEventListener("input",t),this.inputElement.removeEventListener("paste",t),delete this.inputElement._onInputMask),this.inputElement=null}},t}(),t.default=e,window.SimpleInputMask=n.default})();